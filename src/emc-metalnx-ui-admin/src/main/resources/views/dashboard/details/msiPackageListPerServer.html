<!--
  ~ Copyright (c) 2015-2017, Dell EMC
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<ul class="col-sm-12" th:if="${server.isThereAnyMSI()}">

    <li role="tab" id="headingMlxMSI" data-toggle="collapse" href="#mlxMSI" aria-expanded="true" aria-controls="mlxMSI">
        <a role="button" class="btn-link" th:text="#{msi.package.mlx.accordion}"></a>
        <i class="fa fa-angle-down"></i>
    </li>
    <div id="mlxMSI" class="panel-collapse collapse in row" role="tabpanel" aria-labelledby="headingMlxMSI">
        <div class="">
            <ul>
                <li th:each="msiPackageMlx : ${server.getMetalnxMSIs()}">
                    <span th:text="${msiPackageMlx.key}"></span>
                    <span th:if="${msiPackageMlx.value}" th:text="#{msi.package.installed}" class="pull-right label label-info"></span>
                    <span th:unless="${msiPackageMlx.value}" th:text="#{msi.package.not.installed}" class="pull-right label label-default"></span>
                </li>
            </ul>
        </div>
    </div>
    <li role="tab" id="headingIrodsMSI" data-toggle="collapse" href="#irodsMSI" aria-expanded="true" aria-controls="irodsMSI">
        <a class="collapsed" role="button" th:text="#{msi.package.irods.accordion}"></a>
        <i class="fa fa-angle-down"></i>
    </li>
    <div id="irodsMSI" class="panel-collapse collapse in row" role="tabpanel" aria-labelledby="headingIrodsMSI">
        <div class="">
            <ul>
                <li th:each="msiPackageIrods : ${server.getIRODSMSIs()}">
                    <span th:text="${msiPackageIrods.key}"></span>
                    <span th:if="${msiPackageIrods.value}" th:text="#{msi.package.installed}" class="pull-right label label-info"></span>
                    <span th:unless="${msiPackageIrods.value}" th:text="#{msi.package.not.installed}" class="pull-right label label-default"></span>
                </li>
            </ul>
        </div>
    </div>
    <li role="tab" id="headingOtherMSI" data-toggle="collapse" href="#otherMSI" aria-expanded="true" aria-controls="otherMSI">
        <a class="collapsed" role="button" th:text="#{msi.package.other.accordion}"></a>
        <i class="fa fa-angle-down"></i>
    </li>
    <div id="otherMSI" class="panel-collapse collapse in row" role="tabpanel" aria-labelledby="headingOtherMSI">
        <div class="">
            <ul>
                <li th:each="msiPackageOthers : ${server.getOtherMSIs()}">
                    <span th:text="${msiPackageOthers.key}"></span>
                    <span th:if="${msiPackageOthers.value}" th:text="#{msi.package.installed}" class="pull-right label label-info"></span>
                    <span th:unless="${msiPackageOthers.value}" th:text="#{msi.package.not.installed}" class="pull-right label label-default"></span>
                </li>
            </ul>
        </div>
    </div>
    <script>
        $('#mlxMsiPkgList ul.col-sm-12 li[role="tab"]').on('click', function(e){
            if($(this).children('i').hasClass('fa-angle-down')){
                $(this).children('i').removeClass('fa-angle-down').addClass('fa-angle-left');
            }else{
                $(this).children('i').removeClass('fa-angle-left').addClass('fa-angle-down');
            }
        });
    </script>
</ul>
<p th:unless="${server.isThereAnyMSI()}" th:text="#{msi.package.not.found}"></p>

